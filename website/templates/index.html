{% extends "base.html" %}
{% block title %}Home | Flask Quiz App{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="text-center mt-20" data-aos="fade-up">
  <h1 class="text-5xl font-extrabold text-gray-900 mb-3">
    Hi, <span class="text-indigo-600">{{ user.username }}</span>!
  </h1>
  <p class="text-lg text-gray-600 max-w-2xl mx-auto mb-8">
    Welcome to the <span class="font-semibold">Flask Quiz App</span>.  
    Test your knowledge, compete with others, and climb the leaderboard ðŸš€
  </p>
  <a href="/quiz"
     class="inline-block bg-indigo-600 text-white px-8 py-3 rounded-full text-lg font-semibold hover:bg-indigo-700 shadow-md hover:shadow-xl transition">
    Start Quiz
  </a>
</section>

<!-- Weather Section -->
<section class="mt-24 bg-white/80 backdrop-blur-lg border border-gray-200 rounded-3xl shadow-xl p-10 max-w-6xl mx-auto" data-aos="fade-up">
  <h2 class="text-3xl font-bold text-gray-900 text-center mb-2">Weather Forecast</h2>
  <p class="text-gray-600 text-center mb-8">Get the latest 3-day forecast anywhere in the world</p>

  <!-- Search Form -->
  <form action="/" method="POST" class="flex flex-col sm:flex-row justify-center gap-3 bg-white/60 shadow-md px-6 py-4 rounded-xl max-w-xl mx-auto mb-10">
    <input type="text" name="city" id="city" placeholder="Enter city name..."
           class="flex-1 px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500"
           autocomplete="off" />
    <button type="submit"
            class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-6 py-2 rounded-md transition">
      Get Forecast
    </button>
  </form>

  {% if city %}
  <h3 class="text-center text-2xl font-semibold text-indigo-700 mb-8">{{ city|title }}</h3>
  {% endif %}

  {% if weather %}
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 px-4">
    {% for day in weather %}
    <div class="p-6 rounded-2xl bg-gradient-to-br from-white to-indigo-50 shadow-lg border border-indigo-100 hover:-translate-y-1 transition-transform">
      <div class="flex flex-col items-center text-center">
        <h3 class="text-lg font-semibold text-gray-800">{{ day.date }}</h3>
        <img src="http://openweathermap.org/img/wn/{{ day.icon }}@4x.png"
             alt="Weather icon" class="w-24 h-24 my-3" />
        <p class="text-3xl font-bold text-indigo-600">{{ day.temp_max }}Â°C</p>
        <p class="capitalize text-gray-600">{{ day.condition }}</p>
        <div class="mt-3 flex justify-center gap-4 text-gray-500 text-sm">
          <span>ðŸ’§ {{ day.humidity }}%</span>
          <span>ðŸ’¨ {{ day.wind_speed }} m/s</span>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <p class="text-center text-gray-500 mt-8 italic">Enter a city name to see the weather forecast.</p>
  {% endif %}
</section>
{% endblock %}